PROMPT ATUALIZADO PARA REPLIT
Quero que atualize a parte da imagem 1 na tela de financeiro, conforme o que est√° escrito nesse Prompt, e fique parecido com o design do Figma, que √© a imagem 2.



Tecnologias
Expo + React Native + TypeScript


@stripe/stripe-react-native para cart√µes


Backend em Node + Express + Prisma (ou Sequelize) conectado a um banco (Postgres ou MySQL) para registrar doa√ß√µes


API REST para retornar impacto real do doador



Backend ‚Äì Rotas necess√°rias
GET /donations/impact?donor_id=:id


Soma todas as doa√ß√µes do doador.


Retorna objeto no formato:

 {
  "total": 299,
  "buckets": [
    { "label": "CULTURA", "value": 100 },
    { "label": "ESPORTE", "value": 199 }
  ]
}


O c√°lculo deve vir da tabela donations, exemplo:

 donations (
  id INT,
  donor_id INT,
  amount DECIMAL,
  category ENUM('CULTURA', 'ESPORTE', 'OUTROS'),
  created_at TIMESTAMP
)


total = soma(amount)


buckets = soma(amount) agrupado por category


GET /payment-methods?customer_id=:id
 (igual antes, busca cart√µes do Stripe)


POST /set-default-payment-method
 (igual antes)



Front ‚Äì Fluxo
Ao montar a tela:


Busca cart√µes (carrossel)


Busca impacto (/donations/impact?donor_id=XYZ)


Renderiza:


Valor total grande (R$ {total})


Buckets em donuts com o valor de cada categoria



Contratos de dados
type Impact = {
  total: number;
  buckets: { label: string; value: number }[];
};


Exemplo de retorno real:
{
  "total": 450,
  "buckets": [
    { "label": "CULTURA", "value": 200 },
    { "label": "ESPORTE", "value": 150 },
    { "label": "OUTROS", "value": 100 }
  ]
}



Front ‚Äì ImpactBlock.tsx (ajuste)
Receber impact: Impact via props ou Context.


Mostrar impact.total em destaque.


Mapear impact.buckets para renderizar donuts.


Se n√£o houver dados, mostrar ‚ÄúVoc√™ ainda n√£o possui impacto. Doe agora para come√ßar‚Äù.



Estilo
Mant√©m o mesmo layout da captura:
Total anual em destaque.


Buckets em donuts verdes.


Periodicidade ‚ÄúANUAL‚Äù no canto direito.



üëâ Assim, cada vez que o doador abre a tela, o app puxa do banco de dados real o total j√° doado e a distribui√ß√£o (cultura, esporte, etc).
