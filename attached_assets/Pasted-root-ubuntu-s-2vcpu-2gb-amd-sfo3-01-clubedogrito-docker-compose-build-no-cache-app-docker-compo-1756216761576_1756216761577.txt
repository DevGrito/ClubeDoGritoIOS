root@ubuntu-s-2vcpu-2gb-amd-sfo3-01:~/clubedogrito# docker compose build --no-cache app docker compose up -d WARN[0000] /root/clubedogrito/docker-compose.yml: the attribute version is obsolete, it will be ignored, please remove it to avoid potential confusion #1 [internal] load local bake definitions #1 reading from stdin 511B done #1 DONE 0.0s #2 [internal] load build definition from Dockerfile #2 transferring dockerfile: 947B done #2 DONE 0.0s #3 [internal] load metadata for docker.io/library/node:20-alpine #3 DONE 0.0s #4 [internal] load .dockerignore #4 transferring context: 261B done #4 DONE 0.0s #5 [ 1/12] FROM docker.io/library/node:20-alpine #5 DONE 0.0s #6 [ 2/12] WORKDIR /app #6 CACHED #7 [internal] load build context #7 transferring context: 151.17kB 0.2s done #7 DONE 0.2s #8 [ 3/12] COPY package*.json ./ #8 DONE 0.0s #9 [ 4/12] RUN npm ci --only=production #9 0.815 npm warn config only Use --omit=dev to omit dev dependencies from the install. #9 27.27 #9 27.27 added 458 packages, and audited 459 packages in 27s #9 27.27 #9 27.27 57 packages are looking for funding #9 27.27 run npm fund for details #9 27.27 #9 27.27 5 vulnerabilities (3 low, 1 high, 1 critical) #9 27.27 #9 27.27 To address issues that do not require attention, run: #9 27.27 npm audit fix #9 27.27 #9 27.27 Some issues need review, and may require choosing #9 27.27 a different dependency. #9 27.27 #9 27.27 Run npm audit for details. #9 27.28 npm notice #9 27.28 npm notice New major version of npm available! 10.8.2 -> 11.5.2 #9 27.28 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2 #9 27.28 npm notice To update run: npm install -g npm@11.5.2 #9 27.28 npm notice #9 DONE 27.7s #10 [ 5/12] COPY . . #10 DONE 1.5s #11 [ 6/12] RUN apk add --no-cache curl #11 0.310 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/main/x86_64/APKINDEX.tar.gz #11 0.422 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/community/x86_64/APKINDEX.tar.gz #11 0.960 (1/9) Installing brotli-libs (1.1.0-r2) #11 0.989 (2/9) Installing c-ares (1.34.5-r0) #11 0.994 (3/9) Installing libunistring (1.3-r0) #11 1.007 (4/9) Installing libidn2 (2.3.7-r0) #11 1.022 (5/9) Installing nghttp2-libs (1.65.0-r0) #11 1.026 (6/9) Installing libpsl (0.21.5-r3) #11 1.029 (7/9) Installing zstd-libs (1.5.7-r0) #11 1.041 (8/9) Installing libcurl (8.14.1-r1) #11 1.055 (9/9) Installing curl (8.14.1-r1) #11 1.063 Executing busybox-1.37.0-r18.trigger #11 1.077 OK: 15 MiB in 27 packages #11 DONE 1.3s #12 [ 7/12] RUN addgroup -g 1001 -S nodejs #12 DONE 0.4s #13 [ 8/12] RUN adduser -S nextjs -u 1001 #13 DONE 0.3s #14 [ 9/12] COPY --chown=root:root --chmod=0755 docker-healthcheck.sh /usr/local/bin/docker-healthcheck.sh #14 DONE 0.0s #15 [10/12] RUN chown -R nextjs:nodejs /app #15 DONE 46.1s #16 [11/12] COPY docker-healthcheck.sh /usr/local/bin/ #16 DONE 0.0s #17 [12/12] RUN chmod +x /usr/local/bin/docker-healthcheck.sh #17 0.332 chmod: /usr/local/bin/docker-healthcheck.sh: Operation not permitted #17 ERROR: process "/bin/sh -c chmod +x /usr/local/bin/docker-healthcheck.sh" did not complete successfully: exit code: 1 ------ > [12/12] RUN chmod +x /usr/local/bin/docker-healthcheck.sh: 0.332 chmod: /usr/local/bin/docker-healthcheck.sh: Operation not permitted ------ Dockerfile:35 -------------------- 33 | # Copy health check script 34 | COPY docker-healthcheck.sh /usr/local/bin/ 35 | >>> RUN chmod +x /usr/local/bin/docker-healthcheck.sh 36 | 37 | # Health check -------------------- failed to solve: process "/bin/sh -c chmod +x /usr/local/bin/docker-healthcheck.sh" did not complete successfully: exit code: 1 WARN[0000] /root/clubedogrito/docker-compose.yml: the attribute version is obsolete, it will be ignored, please remove it to avoid potential confusion #1 [internal] load local bake definitions #1 reading from stdin 487B done #1 DONE 0.0s #2 [internal] load build definition from Dockerfile #2 transferring dockerfile: 947B done #2 DONE 0.0s #3 [internal] load metadata for docker.io/library/node:20-alpine #3 DONE 0.0s #4 [internal] load .dockerignore #4 transferring context: 261B done #4 DONE 0.0s #5 [ 1/12] FROM docker.io/library/node:20-alpine #5 DONE 0.0s #6 [internal] load build context #6 transferring context: 150.25kB 0.1s done #6 DONE 0.1s #7 [ 4/12] RUN npm ci --only=production #7 CACHED #8 [ 6/12] RUN apk add --no-cache curl #8 CACHED #9 [ 7/12] RUN addgroup -g 1001 -S nodejs #9 CACHED #10 [ 9/12] COPY --chown=root:root --chmod=0755 docker-healthcheck.sh /usr/local/bin/docker-healthcheck.sh #10 CACHED #11 [ 3/12] COPY package*.json ./ #11 CACHED #12 [ 5/12] COPY . . #12 CACHED #13 [10/12] RUN chown -R nextjs:nodejs /app #13 CACHED #14 [ 8/12] RUN adduser -S nextjs -u 1001 #14 CACHED #15 [ 2/12] WORKDIR /app #15 CACHED #16 [11/12] COPY docker-healthcheck.sh /usr/local/bin/ #16 CACHED #17 [12/12] RUN chmod +x /usr/local/bin/docker-healthcheck.sh #17 0.225 chmod: /usr/local/bin/docker-healthcheck.sh: Operation not permitted #17 ERROR: process "/bin/sh -c chmod +x /usr/local/bin/docker-healthcheck.sh" did not complete successfully: exit code: 1 ------ > [12/12] RUN chmod +x /usr/local/bin/docker-healthcheck.sh: 0.225 chmod: /usr/local/bin/docker-healthcheck.sh: Operation not permitted ------ Dockerfile:35 -------------------- 33 | # Copy health check script 34 | COPY docker-healthcheck.sh /usr/local/bin/ 35 | >>> RUN chmod +x /usr/local/bin/docker-healthcheck.sh 36 | 37 | # Health check -------------------- failed to solve: process "/bin/sh -c chmod +x /usr/local/bin/docker-healthcheck.sh" did not complete successfully: exit code: 1